#!/bin/bash
export LINUXBREW_BIN_PATH="$HOME/linuxbrew/.linuxbrew/bin"
export LINUXBREW_SUDO_BIN_PATH="/home/linuxbrew/.linuxbrew/bin"
export PATH="$PATH:${LINUXBREW_BIN_PATH}:${LINUXBREW_SUDO_BIN_PATH}"
export BROWSER='/mnt/c/Program\ Files\ \(x86\)/Google/Chrome/Application/chrome.exe'

# init
: "setting linuxbrew" && {
  local target=""
  exists ${LINUXBREW_BIN_PATH} && target="${LINUXBREW_BIN_PATH}"
  exists ${LINUXBREW_SUDO_BIN_PATH} && target="${LINUXBREW_SUDO_BIN_PATH}"
  exists ${target} && {-
    eval `${target}/brew shellenv` && echo "run-state: wake up brew."
  }
}
: "setting windows alias" && {
  alias code="/mnt/c/Program\ Files/Microsoft\ VS\ Code/Code.exe"
}

# apply wsl host display.
update_display_env() {
	host_address=`sudo grep -e nameserver /etc/resolv.conf | awk '{split($0,ary," ");print ary[2]}'`
	export DISPLAY=${host_address}:0.0
}

if test $SHOW_DISPLAY_ENV_SETTING_MESSAGE="";then
  echo -e "\033[34mif want to use X11, run command 'update_display_env'.\033[m"
  SHOW_DISPLAY_ENV_SETTING_MESSAGE=1
fi